containers:

  hmlr-mock-server:
    image: wiremock/wiremock:2.35.0
    ports:
      - local: 8080
        container: 8080
    volumes:
      - local: hmlr-mock-server/resources/mappings
        container: /home/wiremock/mappings
        options: cached
      - local: hmlr-mock-server/resources/__files
        container: /home/wiremock/__files
        options: cached
    command: --global-response-templating --verbose --port=8080 --no-request-journal --disable-gzip

tasks:
  run-hmlr-mock-server:
    description: Runs HMLR mock server
    run:
      container: hmlr-mock-server